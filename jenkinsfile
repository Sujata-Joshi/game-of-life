pipeline
{
    agent { label 'MAVEN_JDK8' }
    triggers { pollSCM ('H/1 * * * *') }
    stages
    {
        stage('vcs')
        {
            steps
            {
                git url: 'https://github.com/SujataMarch2023/game-of-life.git'
                    branch: 'declarative'
            }
        }
        stage('package')
        {
            tools
            {
                jdk 'JDK_8_UBUNTU'
            }
            steps
            {
                sh 'mvn package'
            }
        }
        stage('post build')
        {
            archiveArtifacts artifacts: '**/target/*.war',
            onlyIfSuccessful: true,
            junit testResults : '**/surefire-reports/TEST-*.xml'
         }
    }
}